# 리액트 소개

## 멀티 페이지 디자인

몇년 전에는 여러 개의 개별 페이지로 웹 앱을 구성했다. 이 웹앱은 바뀐 내용을 보여줘야 할 때, 대부분 아예 다른 페이지로 이동 했다. 페이지가 사라졌다가 다시 그려져서 사용자 경험이 그다지 좋지는 않았지만, 웹앱의 상태 관리하기가 좋았다. 쿠키를 통한 사용자 데이터 저장과 약간의 서버 측 메커니즘을 제외하면 신경쓸 일이 그리 없다.

<br/>

<br/>

## 싱글 페이지 앱

현대의 웹앱은 SPA(Single-page app) 싱글 페이지 앱 모델을 선호한다. SPA는 서로 다른 페이지로 이동하지 않으며, 리로딩 하지도 않는다. 그 대신 웹앱의 서로 다른 뷰가 동일한 페이지에서 로딩되거나 언로딩되면서 동적으로 컨텐츠를 보여준다. 더 좋은 사용자 경험을 제공하며 멀티 페이지 방식에서는 쉽게 적용하기 힘들다.

<br/>

### 싱글 페이지 앱 제작시 이슈 3가지
1. 싱글 페이지 앱에서는 데이터와 UI의 동기화에 많은 시간을 소비하게 된다. 멀티페이지 방식에서는 페이지가 바뀌면서 전부 제거 및 재구축되기 때문에 무엇을 남겨야 하고 제거해야 하는지를 고민할 필요가 없다.
2. DOM 컨트롤은 느리다. SPA에서는 가장 느린 작업에 포함되는 DOM 작업이 아주 많이 필요하다. 사용자의 행위에 반응하고 컨텐츠를 보여주는 주된 방법이 DOM 조작이기 때문이다.
3. HTML 템플릿을 다루는 고통이 있다. HTML 코드 조각을 '템플릿' 이라고 하는데, 자바스크립트를 이용해 템플릿을 조작하고 데이터를 넣는 작업은 복잡한 일이 된다. 또한 프레임워크에 따라 템플릿과 데이터 사이의 상호작용하는 방법이 서로 다르다.

<br/>

<br/>

## 리액트!
페이스북과 인스타그램에서는 SPA에 대한 경험을 바탕으로 React 라이브러리를 만들었다.

<br/>

### UI 상태 자동관리
SPA에서의 UI 추적과 상태 관리를 할 때 React에서는 오직 UI의 마지막 상태만 신경쓰면된다. 중요한 것은 UI의 마지막 상태이다. 그외의 부분은 React가 알아서 관리한다. 

<br/>

### 빠른 DOM 조작
React에서는 인메모리 가상 DOM(in-memory virtual DOM)을 만들어서 조작하며 적절한 시점에만 실제 DOM을 갱신시킨다. 리액트는 가상 DOM과 실제 DOM을 비교해 변경이 필요한 부분을 파악한 다음에 최신으로 나타내는데 필요한 최소한의 DOM 변경을 수행한다. 이러한 과정을 Reconciliation 비교조정 이라고 한다.

<br/>

### 결합이 용이한 UI를 지원하는 API
리액트는 비주얼 요소인 UI 부분을 여러 컴포넌트로 작게 분할해서 다루도록 권장한다. 리액트의 여러 API들은 작은 UI 컴포넌트 제작을 쉽게 하도록 도와주며, 각 컴포넌트들을 결합해 더욱 크고 복잡한 UI 컴포넌트를 만들수 있게 지원해준다. 

<br/>

### JS로 정의되는 비주얼
HTML 템플릿은 단순한 데이터 표시 외에는 할 수 있는 일이 제한 적이었다. 특정 조건에 따른 UI 변화를 위해서는 JS를 사용하거나 프레임워크의 템플릿 명령을 사용해야 했다. 반면에 리액트의 경우는 JS 만으로 UI를 정의하여 템플릿 안의 모든 작업을 JS의 기능을 이용해 할 수 있으며 JS를 지원하는 한도 내에서 제한이 없다. 

JS에서는 복잡하게 확장 문자, 따옴표, createElement 등을 써야하겠지만, JSX라는 문법을 사용하기 때문에 이러한 복잡한 과정 없어진다. 즉 UI를 정의 하는 코드를 작성하는 방식이 아닌, 마크업을 작성하는 방식이 되는 것이다. 

```jsx
ReactDOM.render(
    <div>
        <h2>AAAAA</h2>
        <h2>BBBBB</h2>
        <h2>CCCCC</h2>
        <h2>DDDDD</h2>
    </div>,
    destination
)
```

JSX를 사용하지 않으면 다음과 같다.
```javascript
ReactDom.render(
    React.createElement(
        "div", null, 
        React.createElement("h2", null, "AAAAA"),
        React.createElement("h2", null, "BBBBB"),
        React.createElement("h2", null, "CCCCC"),
        React.createElement("h2", null, "DDDDD")
    ),
    destination
)
```

JSX를 사용하게 되면 마크업 문법과 유사한 문법으로 쉽게 비주얼을 정의할 수 있으며 비주얼 코드와 JS가 같은 장소에 존재해서 더이상 비주얼 컴포넌트의 모양과 동작을 정의하기 위해서 여러 파일들 사이에서 왔다갔다 할 필요가 없다.

<br/>

### MVC 아키텍처에서의 'V'

리액트는 시각적 요소와 상태를 최신으로 유지하는데 중점을 두는 View 레이어에서 동작하며 MVC패턴의 Model과 Control의 부분은 다른 것을 자유롭게 사용할수 있다. 